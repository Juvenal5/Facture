generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model avoir {
  commande_id Int
  produit_id  Int
  apparaitre  Int
  commande    commande @relation(fields: [commande_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_avoir_commande")
  produit     produit  @relation(fields: [produit_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_avoir_produit")

  @@id([commande_id, produit_id])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model commande {
  id            Int       @id @default(autoincrement())
  users_id      Int
  date_commande DateTime? @default(now()) @db.Timestamp(6)
  montant_total Decimal?  @db.Decimal(10, 2)
  statut        String?   @db.VarChar(50)
  avoir         avoir[]
  users         users     @relation(fields: [users_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_commande_user")
  facture       facture?
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model facture {
  id             Int       @id @default(autoincrement())
  numero_facture String    @unique @db.VarChar(100)
  commande_id    Int       @unique
  date_facture   DateTime? @default(now()) @db.Timestamp(6)
  montant_total  Decimal?  @db.Decimal(10, 2)
  statut         String?   @db.VarChar(50)
  commande       commande  @relation(fields: [commande_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_facture_commande")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model playing_with_neon {
  id    Int    @id @default(autoincrement())
  name  String
  value Float? @db.Real
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model produit {
  id              Int           @id @default(autoincrement())
  nom             String        @db.VarChar(150)
  description     String?
  prix_unitaire   Decimal       @db.Decimal(10, 2)
  stock           Int?          @default(0)
  image           String?       @db.VarChar(255)
  type_produit_id Int?
  avoir           avoir[]
  type_produit    type_produit? @relation(fields: [type_produit_id], references: [id], onUpdate: NoAction, map: "fk_type_produit")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model type_produit {
  id          Int       @id @default(autoincrement())
  nom         String    @db.VarChar(100)
  description String?
  produit     produit[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model users {
  id               Int        @id @default(autoincrement())
  nom              String     @db.VarChar(100)
  prenom           String     @db.VarChar(100)
  email            String     @unique @db.VarChar(150)
  numero           String?    @db.VarChar(20)
  adresse          String?    @db.VarChar(255)
  mot_de_passe     String     @db.VarChar(255)
  role             String?    @db.VarChar(50)
  statut           String?    @db.VarChar(50)
  date_de_creation DateTime?  @default(now()) @db.Timestamp(6)
  commande         commande[]
}
